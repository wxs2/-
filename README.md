# - 闲鱼爬虫闲鱼商品数据爬虫
闲鱼爬虫闲鱼商品数据爬虫,可以爬取闲鱼商品的商品内容，图片，价格，出售人信息等等

闲鱼爬虫源码淘宝闲鱼商品爬虫源码，可以爬取闲鱼商品的商品内容，图片，价格，出售人信息等等

效果图：
![Image text](https://raw.githubusercontent.com/wxs2/idlefish-crawler/main/1.jpg)
![Image text](https://raw.githubusercontent.com/wxs2/idlefish-crawler/main/2.jpg)
源码介绍地址：http://changu.net/xianyu.html

核心hook代码

闲鱼商品详情接口：
https://acs.m.taobao.com/gw/mtop.taobao.idle.awesome.detail/1.0/
请求参数：
gps:39.925558,116.194963
itemId:626382089218
latitude:39.925558
longitude:116.194963
needSimpleDetail:false

闲鱼商品详情页：
https://market.m.taobao.com/app/idleFish-F2e/widle-taobao-rax/page-detail?id=626382089218
详情页请求参数：
{"gps":"39.925575,116.194931","itemId":"626382089218","latitude":"39.925575","longitude":"116.194931","needSimpleDetail":false},[request]:{"apiName":"mtop.taobao.idle.awesome.detail","apiVersioin":"1.0","gps":"39.925575,116.194931","mParam":{"gps":"39.925575,116.194931","itemId":"626382089218","latitude":"39.925575","longitude":"116.194931","needSimpleDetail":false},"mRequestConfig":{"apiName":"mtop.taobao.idle.awesome.detail","apiVersion":"1.0","needJsonReq":false,"needLogin":false,"needWua":false},"originJson":false,"param":{"gps":"39.925575,116.194931","itemId":"626382089218","latitude":"39.925575","longitude":"116.194931","needSimpleDetail":false},"requestConfig":{"apiName":"mtop.taobao.idle.awesome.detail","apiVersion":"1.0","needJsonReq":false,"needLogin":false,"needWua":false},"secondRefresh":false,"startTime":1618059082660}'}
package com.taobao.idlefish.protocol.net;

import com.taobao.idlefish.protocol.Protocol;
import com.taobao.idlefish.protocol.net.api.BaseApiProtocol;

public interface PApiContext extends Protocol {
    long getDate();

    void logout();

    <T, A extends ResponseParameter> void send(BaseApiProtocol<T, A> baseApiProtocol, ApiCallBack<A> apiCallBack);
}
--------------------------------------------------------------------------------
public void ss() {
    Log.c("detail", "jinyi.cyp80", "begin recommendForPreload....");
    if (this.mItemDetailDO == null || ((this.eN != null && this.eN.size() > 0) || !this.mItemDetailDO.needRecommand)) {
        Log.c("detail", "jinyi.cyp80", "return recommendForPreload....");
        return;
    }
    ((PApiContext) XModuleCenter.moduleForProtocol(PApiContext.class)).send(new ApiProtocol().apiNameAndVersion("mtop.taobao.idle.item.recommend.list", "2.0").paramMap(JSON.parseObject(JSON.toJSONString(a(this.mItemDetailDO)))), new ApiCallBack<ResponseParameter>() {
        /* class com.taobao.fleamarket.detail.model.ItemDetailModel.AnonymousClass3 */

        @Override // com.taobao.idlefish.protocol.net.ApiCallBack
        public void onSuccess(ResponseParameter responseParameter) {
            if (responseParameter.getData() != null) {
                JSONArray cardList = ((JSONObject) responseParameter.getData()).getJSONArray("cardList");
                if ((responseParameter.getData() instanceof JSONObject) && cardList != null) {
                    ResponseParameter unused = ItemDetailModel.this.a = responseParameter;
                    Log.c("detail", "jinyi.cyp80", "get prelaodData!!");
                }
            }
        }

        @Override // com.taobao.idlefish.protocol.net.ApiCallBack
        public void onFailed(String code, String msg) {
            Log.c("detail", "jinyi.cyp80", "failed prelaodData!!");
        }
    });
}

hook日志

==request==: {"apiName":"mtop.taobao.idle.search.glue","apiVersion":"8.0","needJsonReq":false,"needLogin":false,"needWua":false}

==param==: {"activeSearch":false,"bizFrom":"home","forceUseInputKeyword":false,"forceUseTppRepair":false,"fromFilter":false,"fromKits":false,"fromLeaf":false,"fromShade":false,"fromSuggest":false,"gps":"39.925549,116.194951","keyword":"大疆air2","latitude":"39.925549","longitude":"116.194951","pageNumber":"1","resultListLastIndex":0,"rowsPerPage":"2","searchReqFromActivatePagePart":"searchButton","searchReqFromPage":"xyHome","searchTabType":"SEARCH_TAB_MAIN","searchType":"common","shadeBucketNum":-1,"suggestBucketNum":21}
onSuccess hook [{"data":{"item":{"main":{"clickParam":{"arg1":"Item","args":{"biz_type":"item","bucketid":"21","cCatId":"201459411","card_type":"idlefish_search_card_item_waterfall","catId":"50023914","id":"642655707678","index":"1","item_id":"642655707678","item_type":"goods","page":"1","pageSize":"2","position":"1","q":"%E5%A4%A7%E7%96%86air2","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.1","tag":"credit-6/wantnum-2","tagname":"极好/2人想要","tbCatId":"50014945","type":"1","wantNum":"2"},"bizType":"item","page":"Page_xySearchResult"},"exContent":{"area":"香港","detailParams":{"isVideo":"false","itemId":"642655707678","itemType":"detailCommonBuy","picHeight":"800","picWidth":"800","soldPrice":"2200","title":"DJI 租借 4.22 4pm \n感兴趣的话点“我想要”和我私聊吧～","userNick":"eveeppoi","want":"2人想要"},"isAliMaMaAD":"false","isAuction":"false","itemId":"642655707678","picHeight":"164.0","picUrl":"http://img.alicdn.com/bao/uploaded/i2/O1CN01IMRfpP1acnt5f1vEI_!!0-fleamarket.jpg","picWidth":"164.0","placeholderColor":"#F7F7F7","price":[{"bold":"true","marginBottom":"4","text":"￥","textColor":"#ff4444","textSize":"12.0"},{"bold":"true","marginBottom":"2","text":"2200","textColor":"#ff4444","textSize":"18.0"}],"priceTag":[{"data":{"fontWeight":"w400","lineHeight":"1.6","text":"2人想要","textColor":"#FFA3A3A3","textSize":"10.0"},"type":"Text"}],"richTitle":[{"data":{"fontWeight":"w700","lineHeight":"1.3571428571428572","text":"DJI 租借 4.22 4pm 感兴趣的话点“我想要”和我私聊吧～","textColor":"#FF333333","textSize":"14.0"},"type":"Text"}],"showVideoIcon":"false","stuffStatusTagHeight":"16.0","stuffStatusTagUrl":"https://gw.alicdn.com/tfs/TB1nehXk4vbeK8jSZPfXXariXXa-240-48.png","stuffStatusTagWidth":"80.0","title":"DJI 租借 4.22 4pm 感兴趣的话点“我想要”和我私聊吧～","userAvatarUrl":"http://img.alicdn.com/sns_logo/i4/O1CN01JvirF81eEJ8Jh7ydN_!!0-fleamarket.jpg","want":"2人想要"},"targetUrl":"fleamarket://awesome_detail?id=642655707678&flutter=true&referPageArgs=%E5%A4%A7%E7%96%86air2&referPage=Page_xySearchResult&trackParamsJson=%7B%22q%22%3A%22%25E5%25A4%25A7%25E7%2596%2586air2%22%2C%22page_number%22%3A%221%22%2C%22item_id%22%3A%22642655707678%22%2C%22item_type%22%3A%22goods%22%2C%22index%22%3A%221%22%2C%22id%22%3A%22642655707678%22%2C%22rn%22%3A%221da3670802b870140cda611f8038be6a%22%2C%22search_from_page%22%3A%22xyHome%22%2C%22search_id%22%3A%22dddbad5dbaacb7abf530cf3aff3f7690%22%7D"}},"template":{"name":"idlefish_search_card_item_waterfall","url":"https://ossgw.alicdn.com/rapid-oss-bucket/1615185324004/idlefish_search_card_item_waterfall.zip","version":"6"}},"style":"flow","type":"DX"},{"data":{"item":{"main":{"clickParam":{"arg1":"Item","args":{"biz_type":"item","bucketid":"21","cCatId":"0","card_type":"idlefish_search_card_item_waterfall","catId":"50025261","id":"641559548152","index":"2","item_id":"641559548152","item_type":"goods","page":"1","pageSize":"2","position":"2","q":"%E5%A4%A7%E7%96%86air2","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.2","tag":"new/freeship/wantnum-40","tagname":"全新/包邮/40人想要","type":"1","wantNum":"40"},"bizType":"item","page":"Page_xySearchResult"},"exContent":{"area":"浙江","detailParams":{"isVideo":"false","itemId":"641559548152","itemType":"detailCommonBuy","picHeight":"923","picWidth":"720","soldPrice":"3550","title":"❤️自用大疆无人机御mavic air 2可折叠航拍4K高 ❤️自用大疆无人机御mavic air 2可折叠航拍4K高 清专业航拍飞行器大疆旗舰无人机原装\n 想学航拍，只用过两次，所有配件都在包装都有，机翼，和机身底部有小划痕，完全不影响使用\n本交易仅支持自提","userNick":"良心商家真诚侍人","want":"40人想要"},"isAliMaMaAD":"false","isAuction":"false","itemId":"641559548152","picHeight":"210.2388888888889","picUrl":"http://img.alicdn.com/bao/uploaded/i4/O1CN01zw67um2DS3bp1qGdg_!!0-fleamarket.jpg","picWidth":"164.0","placeholderColor":"#F7F7F7","price":[{"bold":"true","marginBottom":"4","text":"￥","textColor":"#ff4444","textSize":"12.0"},{"bold":"true","marginBottom":"2","text":"3550","textColor":"#ff4444","textSize":"18.0"}],"priceTag":[{"data":{"fontWeight":"w400","lineHeight":"1.6","text":"40人想要","textColor":"#FFA3A3A3","textSize":"10.0"},"type":"Text"}],"richTitle":[{"data":{"height":"16.0","marginLeft":"0.0","marginRight":"4.0","url":"https://gw.alicdn.com/tfs/TB1eCD602b2gK0jSZK9XXaEgFXa-84-48.png","width":"28.0"},"type":"Image"},{"data":{"fontWeight":"w700","lineHeight":"1.3571428571428572","text":"❤️自用大疆无人机御mavic air 2可折叠航拍4K高 ❤️自用大疆无人机御mavic air 2可折叠航拍4K高 清专业航拍飞行器大疆旗舰无人机原装 想学航拍，只用过两次，所有配件都在包装都有，机翼，和机身底部有小划痕，完全不影响使用本交易仅支持自提","textColor":"#FF333333","textSize":"14.0"},"type":"Text"}],"showVideoIcon":"false","stuffStatusTagHeight":"0.0","stuffStatusTagWidth":"0.0","title":"❤️自用大疆无人机御mavic air 2可折叠航拍4K高 ❤️自用大疆无人机御mavic air 2可折叠航拍4K高 清专业航拍飞行器大疆旗舰无人机原装 想学航拍，只用过两次，所有配件都在包装都有，机翼，和机身底部有小划痕，完全不影响使用本交易仅支持自提","userActiveUrl":"https://gw.alicdn.com/tfs/TB1zIymVUz1gK0jSZLeXXb9kVXa-30-30.png","userAvatarUrl":"http://img.alicdn.com/sns_logo/TB1e4rMt8Bh1e4jSZFhXXcC9VXa-240-240.png","want":"40人想要"},"targetUrl":"fleamarket://awesome_detail?id=641559548152&flutter=true&referPageArgs=%E5%A4%A7%E7%96%86air2&referPage=Page_xySearchResult&trackParamsJson=%7B%22q%22%3A%22%25E5%25A4%25A7%25E7%2596%2586air2%22%2C%22page_number%22%3A%221%22%2C%22item_id%22%3A%22641559548152%22%2C%22item_type%22%3A%22goods%22%2C%22index%22%3A%222%22%2C%22id%22%3A%22641559548152%22%2C%22rn%22%3A%221da3670802b870140cda611f8038be6a%22%2C%22search_from_page%22%3A%22xyHome%22%2C%22search_id%22%3A%22dddbad5dbaacb7abf530cf3aff3f7690%22%7D"}},"template":{"name":"idlefish_search_card_item_waterfall","url":"https://ossgw.alicdn.com/rapid-oss-bucket/1615185324004/idlefish_search_card_item_waterfall.zip","version":"6"}},"style":"flow","type":"DX"},{"data":{"item":{"main":{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","dataFetcherComponentName":"idleSrpJinlangDataFetcher","index":"3","kunpengEntityId":"749908460","kunpengMatId":"1757","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3"},"bizType":"Bagtag","page":"Page_xySearchResult"},"exContent":{"kits":[{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","index":"3","name":"mavic","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3","type":"4"},"bizType":"Bagtag","page":"Page_xySearchResult"},"combo":"Bagtag","word":"mavic"},{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","index":"3","name":"畅飞","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3","type":"4"},"bizType":"Bagtag","page":"Page_xySearchResult"},"combo":"Bagtag","word":"畅飞"},{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","index":"3","name":"care","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3","type":"4"},"bizType":"Bagtag","page":"Page_xySearchResult"},"combo":"Bagtag","word":"care"},{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","index":"3","name":"三电","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3","type":"4"},"bizType":"Bagtag","page":"Page_xySearchResult"},"combo":"Bagtag","word":"三电"},{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","index":"3","name":"随心","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3","type":"4"},"bizType":"Bagtag","page":"Page_xySearchResult"},"combo":"Bagtag","word":"随心"},{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","index":"3","name":"航拍","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3","type":"4"},"bizType":"Bagtag","page":"Page_xySearchResult"},"combo":"Bagtag","word":"航拍"},{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","index":"3","name":"2020年","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3","type":"4"},"bizType":"Bagtag","page":"Page_xySearchResult"},"combo":"Bagtag","word":"2020年"},{"clickParam":{"arg1":"Bagtag","args":{"biz_type":"Bagtag","card_type":"idlefish_search_card_category","index":"3","name":"保险","page":"1","position":"3","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.3","type":"4"},"bizType":"Bagtag","page":"Page_xySearchResult"},"combo":"Bagtag","word":"保险"}],"title":"细选"}}},"template":{"name":"idlefish_search_card_category","url":"https://ossgw.alicdn.com/rapid-oss-bucket/1603631224567/idlefish_search_card_category.zip","version":"8"}},"style":"flow","type":"DX"},{"data":{"item":{"main":{"clickParam":{"arg1":"Item","args":{"biz_type":"ad","bucketid":"21","card_type":"idlefish_search_card_item","index":"4","item_id":"623977016765","item_type":"ad","page":"1","pageSize":"2","position":"4","q":"%E5%A4%A7%E7%96%86air2","rn":"1da3670802b870140cda611f8038be6a","search_from_page":"xyHome","search_id":"dddbad5dbaacb7abf530cf3aff3f7690","spm":"a2170.8011571.1.4","tag":"ad","tagname":"广告","type":"1"},"bizType":"ad","page":"Page_xySearchResult"},"exContent":{"area":"福建","isAliMaMaAD":"true","isAuction":"false","picUrl":"http://g.search3.alicdn.com/img/i3/45594933/O1CN010ZwGYk1mJMQoejope_!!0-saturn_solar.jpg_sum.jpg","price":[{"bold":"false","marginBottom":"4","text":"￥","textColor":"#ff4444","textSize":"12.0"},{"bold":"true","marginBottom":"2","text":"78","textColor":"#ff4444","textSize":"18.0"}],"priceTag":[{"data":{"fontWeight":"w400","lineHeight":"1.6","text":"24人付款","textColor":"#FFA3A3A3","textSize":"10.0"},"type":"Text"}],"richTitle":[{"data":{"height":"16.0","marginLeft":"0.0","marginRight":"4.0","url":"https://gw.alicdn.com/imgextra/i3/O1CN01gOAXcD1iFv0n1NYwy_!!6000000004384-2-tps-144-48.png","width":"48.0"},"type":"Image"},{"data":{"height":"16.0","marginLeft":"0.0","marginRight":"4.0","url":"https://gw.alicdn.com/tfs/TB1eCD602b2gK0jSZK9XXaEgFXa-84-48.png","width":"28.0"},"type":"Image"},{"data":{"fontWeight":"w700","lineHeight":"1.3571428571428572","text":"猫老师可爱少女软妹内衣玉桂狗睡衣卡通立体","textColor":"#FF333333","textSize":"14.0"},"type":"Text"}],"showVideoIcon":"false","stuffStatusTagHeight":"16.0","stuffStatusTagUrl":"https://gw.alicdn.com/tfs/TB15qm8VKL2gK0jSZPhXXahvXXa-96-48.png","stuffStatusTagWidth":"32.0","title":"猫老师可爱少女软妹内衣玉桂狗睡衣卡通立体","userAvatarUrl":"http://gdp.alicdn.com/shop-logo//7e/bb/T16YLyFldeXXb1upjX.jpg","want":"24人付款"},"targetUrl":"http://item.taobao.com/item.htm?id=623977016765&etype=1&eurl=http%3A%2F%2Fmclick.simba.taobao.com%2Fcc_im%3Fp%3D%25B4%25F3%25BD%25AEair2%26s%3D615311525%26k%3D609%26e%3DENKugw%252FIoZOF1yciKnPJU6IfT78wNd0PHAGD4Q4XsaHcqei0MQ9CTDAzA8T2RdRVuTrRGy9onPvTbSyl%252F5E%252BAD1XGvuLfmZ0dd0LbWTaH2WfGIdiPd9caKK3hxr9U7u4cbrIQ9e9V0JTw56KCnJOIYVUlvZycyhJd1kZ2Dyka%252FG8xhHhb3K0ifu6jnbRCyMcQtJ8pCKTxJOJ3%252BE0v3jCZqpm5Fte%252BJJWg0t6xAImgSXR0JIzqMtxvAyOsMzIAeWzVj3EGoKrhXjn1w6zrN0NeiiKJZsGklN7ec3iLxyLEVmWgQMpNHftLxZFRBGM%252F9AQizClN6krfcRNyuYD2bJbdgfNMvXwCK2izP%252BvbJ%252BpNF0dmtIwr54sMD7jAj6jfSU1oCR4%252FSXKVpB3B%252Bp1wKj0tQLbpR0BF2rWPjJ12fwYA%252Fj%252FBtiqeooJpK48AF6bd7hz5DlgHlnbvK%252B25S0T1o9xT0aWhBKlA8I2yZsdGBrA7y1fUDDxLZ8tjChXE%252F0w9D5X676wg60LqSpUvAV8BbUvX%252Fn%252BDoiJG%252F46ZfdXqzrgKt5zVW3G12H0jfvJ%252FFv5E3T14jQ8hc7arXS9YPD4BZxQQSp4%252BAee5lAa%26eadt%3D1&epid=430792_1006&is_taobao_ad_from_fish=true&open_ad_in_app=true&disableSJ=true"}},"template":{"name":"idlefish_search_card_item","url":"https://ossgw.alicdn.com/rapid-oss-bucket/1615185397475/idlefish_search_card_item.zip","version":"30"}},"style":"flow","type":"DX"}]
